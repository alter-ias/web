<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portafolio Interactivo - Alter.Lab</title>
    <!-- Fuentes de Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --background-color: #0F121B;
            --text-color: #FFFFFF;
            --secondary-text-color: #d1d1d1;
            --accent-color: #FFFFFF;
            --honeycomb-gap: 5px;
            --honeycomb-cell-size: 250px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { color: var(--text-color); font-family: 'Montserrat', sans-serif; overflow-x: hidden; background-color: var(--background-color); }
        #background-video { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; object-fit: cover; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; position: relative; z-index: 2; }

        .main-header { display: flex; justify-content: center; align-items: center; padding: 30px 0; text-align: center; }
        .header-content { display: flex; flex-direction: column; align-items: center; gap: 15px; }
        .logo a { display: flex; align-items: center; gap: 10px; text-decoration: none; flex-direction: column; }
        .logo img { height: 40px; width: auto; }
        .logo .logo-text { font-size: 1.5rem; font-weight: 700; letter-spacing: 2px; color: var(--text-color); }
        .lang-switcher button { background: none; border: 1px solid var(--secondary-text-color); color: var(--secondary-text-color); padding: 5px 10px; margin: 0 5px; cursor: pointer; border-radius: 4px; transition: all 0.3s ease; }
        .lang-switcher button:hover { background-color: var(--accent-color); color: var(--background-color); border-color: var(--accent-color); }
        .lang-switcher button.active { background-color: var(--text-color); color: var(--background-color); border-color: var(--text-color); font-weight: 700; }

        /* ----- NUEVOS ESTILOS PARA LA GALERÍA HEXAGONAL ----- */
        .portfolio-title { text-align: center; font-size: 2.5rem; margin-bottom: 50px; font-weight: 700; }

        .honeycomb-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            width: calc(var(--honeycomb-cell-size) * 3 + var(--honeycomb-gap) * 4); /* Ancho para 3 celdas */
            margin: 0 auto;
            list-style: none;
            padding: 0;
        }

        .honeycomb-cell {
            flex-shrink: 0;
            width: var(--honeycomb-cell-size);
            height: calc(var(--honeycomb-cell-size) / 1.1547); /* Proporción para hexágono regular */
            position: relative;
            margin: calc(var(--honeycomb-cell-size) / 2.3094 / 2) var(--honeycomb-gap); /* Margen para encajar */
            margin-bottom: calc(var(--honeycomb-cell-size) * 0.15); /* Espacio vertical extra */
            perspective: 1000px;
            transition: transform 0.3s ease;
        }

        /* Crea el offset para las filas impares, creando el efecto panal */
        .honeycomb-container .honeycomb-cell:nth-child(5n - 1) {
             margin-left: calc(var(--honeycomb-cell-size) / 2 + var(--honeycomb-gap) * 2);
        }

        .honeycomb-cell:hover {
            transform: scale(1.1);
            z-index: 100;
        }

        .card-flipper {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            cursor: pointer;
            /* Máscara hexagonal */
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }

        .honeycomb-cell:hover .card-flipper {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%; height: 100%;
            backface-visibility: hidden;
            background-color: #000;
        }

        .card-front img {
            width: 100%; height: 100%;
            object-fit: cover;
        }

        .card-back {
            transform: rotateY(180deg);
        }

        .card-back iframe { width: 100%; height: 100%; border: none; }
        
        @media (max-width: 900px) {
            :root { --honeycomb-cell-size: 200px; }
            .honeycomb-container {
                 width: calc(var(--honeycomb-cell-size) * 2 + var(--honeycomb-gap) * 3); /* Ancho para 2 celdas */
            }
            .honeycomb-container .honeycomb-cell:nth-child(5n - 1) { margin-left: var(--honeycomb-gap); } /* Se resetea el offset complejo */
             .honeycomb-container .honeycomb-cell:nth-child(3n - 0) {
                 margin-left: calc(var(--honeycomb-cell-size) / 2 + var(--honeycomb-gap) * 1.5);
             }
        }
        
        @media (max-width: 576px) {
            .honeycomb-container {
                flex-direction: column;
                width: 90%;
                align-items: center;
            }
            .honeycomb-cell {
                width: 100%;
                height: auto;
                aspect-ratio: 16/9; /* Volvemos a rectángulos en móvil */
                margin: 0 0 20px 0 !important; /* Reseteamos todos los márgenes */
            }
            .card-flipper {
                clip-path: none; /* Quitamos la máscara hexagonal */
                border-radius: 10px;
                overflow: hidden;
                border: 1px solid rgba(255,255,255,0.2);
            }
        }
    </style>
</head>
<body>
    <video autoplay muted loop playsinline id="background-video">
        <source src="assets/videos/web05.webm" type="video/webm">
        <source src="assets/videos/web05.mp4" type="video/mp4">
        Tu navegador no soporta la etiqueta de video.
    </video>

    <header class="main-header container">
        <div class="header-content">
            <div class="logo">
                <a href="alterlab.html">
                    <img src="assets/img/logo03.png" alt="Alter.Lab Logo">
                    <span class="logo-text">ALTER.LAB</span>
                </a>
            </div>
            <div class="lang-switcher">
                <button id="lang-en">EN</button>
                <button id="lang-es" class="active">ES</button>
                <button id="lang-fr">FR</button>
            </div>
        </div>
    </header>

    <main class="container">
        <h1 class="portfolio-title" id="portfolio-title"></h1>
        <ul class="honeycomb-container" id="portfolio-container">
            <!-- Las celdas se generarán aquí con JavaScript -->
        </ul>
    </main>
    
    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ----- TRADUCCIONES -----
            const translations = {
                es: { portfolioTitle: 'PORTAFOLIO INTERACTIVO' },
                en: { portfolioTitle: 'INTERACTIVE PORTFOLIO' },
                fr: { portfolioTitle: 'PORTFOLIO INTERACTIF' }
            };

            const elementsToTranslate = { portfolioTitle: document.getElementById('portfolio-title') };
            const langEnButton = document.getElementById('lang-en');
            const langEsButton = document.getElementById('lang-es');
            const langFrButton = document.getElementById('lang-fr');

            function setLanguage(lang) {
                const langData = translations[lang];
                Object.keys(elementsToTranslate).forEach(key => {
                    if (elementsToTranslate[key]) elementsToTranslate[key].textContent = langData[key];
                });
                langEnButton.classList.toggle('active', lang === 'en');
                langEsButton.classList.toggle('active', lang === 'es');
                langFrButton.classList.toggle('active', lang === 'fr');
                document.documentElement.lang = lang;
            }

            langEnButton.addEventListener('click', () => setLanguage('en'));
            langEsButton.addEventListener('click', () => setLanguage('es'));
            langFrButton.addEventListener('click', () => setLanguage('fr'));
            setLanguage('es');

            // ----- LÓGICA DE LA GALERÍA HEXAGONAL -----
            const videoIds = ['k31ZD9MPZo8', '7LQLXalnl_0', 'aeqxdrP5XLg', 'Hcqdwvnjqso', 'JKyX8onVFV8'];
            const container = document.getElementById('portfolio-container');
            const players = {};

            // Crear las celdas del panal
            videoIds.forEach(id => {
                const cell = document.createElement('li');
                cell.className = 'honeycomb-cell';
                
                cell.innerHTML = `
                    <div class="card-flipper">
                        <div class="card-front">
                            <img src="https://img.youtube.com/vi/${id}/maxresdefault.jpg" alt="Video Thumbnail">
                        </div>
                        <div class="card-back">
                            <div id="player-${id}"></div>
                        </div>
                    </div>
                `;
                container.appendChild(cell);

                cell.addEventListener('mouseenter', () => {
                    if (players[id] && players[id].playVideo) {
                        players[id].playVideo();
                    }
                });

                cell.addEventListener('mouseleave', () => {
                    if (players[id] && players[id].pauseVideo) {
                        players[id].pauseVideo();
                    }
                });
            });

            // Cargar la API de YouTube
            window.onYouTubeIframeAPIReady = function() {
                videoIds.forEach(id => {
                    players[id] = new YT.Player(`player-${id}`, {
                        height: '100%',
                        width: '100%',
                        videoId: id,
                        playerVars: {
                            'autoplay': 0, 'controls': 0, 'modestbranding': 1,
                            'loop': 1, 'playlist': id
                        }
                    });
                });
            };
        });
    </script>
</body>
</html>
